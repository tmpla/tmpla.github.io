---
layout: post
title: PHP 5.3.0が出た
categories:
- PHP
tags:
- PHP
status: publish
type: post
published: true
meta:
  _edit_last: '3'
author:
  login: yokoshima
  email: k.yokoshima@gmail.com
  display_name: yokoshima
  first_name: ''
  last_name: ''
---
<p><a href="http://www.php.net/archive/2009.php#id2009-06-30-1">phpの5.3.0が出た</a>らしい。</p>
<p>早速インストールしてみた。</p>
<p>環境<br />
・Windows Vista Home Premium SP1</p>
<p>TomcatやApacheも、最近はWindows版のインストーラでもあまり問題なくインストール出来ていたので、インストーラ版(*.msi）を入れてみました。</p>
<p>色々バージョンがあるようなのですが、以下バージョンの中で</p>
<ul>
<li>VC9 x86 Non Thread Safe (2009-Jun-30 08:52:54)</li>
<li>VC9 x86 Thread Safe (2009-Jun-30 08:52:56)</li>
<li>VC6 x86 Non Thread Safe (2009-Jun-30 08:52:54)</li>
<li>VC6 x86 Thread Safe (2009-Jun-30 08:52:55)</li>
</ul>
<p>スレッドセーフじゃないよりスレッドセーフのがいいだろと何も考えずにVC9のスレッドセーフの奴のインストーラ版をダウンロードしてインストールしてみました。<br />
したら、まずインストールは失敗してしまい、またそれをアンインストールしようとしたら</p>
<blockquote><p>The installer has encountered an unexpected error installing this package. This may indicate a problem with this pachage.The error code is 2738.</p></blockquote>
<p>と出てアンインストールも出来ない。<a href="http://tmpla.info/wp-content/uploads/2009/07/php53installfailed.jpg"><img src="http://tmpla.info/wp-content/uploads/2009/07/php53installfailed.jpg" alt="php53installfailed" width="410" height="140" class="alignleft size-full wp-image-611" /></a></p>
<p>よくよく<a href="http://windows.php.net/download/">PHPのダウンロードサイト</a>を見たら</p>
<blockquote><p>Which version do I choose?<br />
If you are using PHP with Apache 1 or Apache2 from apache.org you need to use the VC6 versions of PHP</p>
<p>If you are using PHP with IIS you should use the VC9 versions of PHP</p>
<p>VC6 Versions are compiled with the legacy Visual Studio 6 compiler</p>
<p>VC9 Versions are compiled with the Visual Studio 2008 compiler and have improvements in performance and stability. The VC9 versions require you to have the Microsoft 2008 C++ Runtime (x86) or the Microsoft 2008 C++ Runtime (x64) installed</p>
<p>Do NOT use VC9 version with apache.org binaries</p></blockquote>
<p>とか書いてある。つまりIISで使用しないならVC6のバージョンを使用しろということ。</p>
<p>ちなみに、VC6のPHPをインストールする前に、この残っちゃって消せないVC9版のPHP5.3を消したい。</p>
<p>調べたところ、<a href="http://support.microsoft.com/?scid=KB;JA;833594">Windows Installer Clean Up ユーティリティ</a>というのがあったので入れて実行してみました。<br />
Vistaだと、まずインストールする際に「管理者として実行」で入れないと入らないようです。<br />
さらに、そこからユーティリティを実行しても「Windows Installer Clean Up Application は動作を停止しました」とか出て起動できません。<br />
これは<a href="http://pasofaq.jp/controlpanel/appwiz/windowsinstallercleanupstop.htm">IMEの設定を変えればいける場合もある</a>らしいので、IMEの設定-[全般]-[追加]-[日本語]-[キーボード]-[Microsoft IME]をチェックして設定変更したら無事起動しました。</p>
<p>そこから、PHP5.3.0を選択して[Remove]を押せば削除完了。無事消えたみたいなので、PHPのインストールはまた次回に。</p>
