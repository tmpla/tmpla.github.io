---
layout: post
title: Javaでイメージ描画
categories:
- Java
tags:
- Java
status: publish
type: post
published: true
meta:
  _edit_last: '3'
author:
  login: yokoshima
  email: k.yokoshima@gmail.com
  display_name: yokoshima
  first_name: ''
  last_name: ''
---
<p>昨今のWeb系アプリケーションでは、動的にHTMLを出力するようなものがほとんどですが、<br />
たまに、「画像を出力してくれ」ということもあります。<br />
Perlやphpなら、「GD」というライブラリがあり、それを使ってたとえば<br />
アクセスカウンタの画像を動的に生成したりしていましたね。</p>
<p>Javaではこの「GD」にあたるのが「java.awt.Graphics」「java.awt.Image」とそのあたりのパッケージです。</p>
<p>まずは、描画するキャンバスとしてのクラスを生成します。</p>
<pre lang="java">
int imageHeight = 500;
int imageWidth = 500;

BufferedImage image = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_ARGB);
</pre>
<p>これで、500px × 500pxのキャンバスが出来ました。<br />
最後の引数は<a href="http://e-words.jp/w/RGBA.html">RGBAカラーモデル</a>を指定しており、<br />
まあとりあえずこれにしておけば大抵okでしょう。</p>
<p>これを元に、Graphics2Dというクラスを作成します。</p>
<pre lang="java">
Graphics2D gdImage = image.createGraphics();
</pre>
<p>今後描画していくのは、このGraphics2Dのインスタンスに対して行っていきます。</p>
<p>まずは背景色を白で塗りつぶしてみます。</p>
<pre lang="java">
gdImage.setBackGround(new Color(255, 255, 255));
gdImage.clearRect(0, 0, image.getWidth, image.getHeight);
</pre>
<p>最初に、背景色とする色を決めます。<br />
そして、clearRectメソッドを呼ぶと指定した範囲を背景色で塗りつぶしてくれます。<br />
今回は、座標x、yが0で、イメージ全体を指定するので</p>
<pre lang="java">
image.getWidth, image.getHeight
</pre>
<p>と全体を指定しています。</p>
<p>続きます（たぶん）</p>
