---
layout: post
title: "データベーステーブル定義に日本語を使うのはどうか？"
categories:
- "開発"
tags:
- DDL
- "データベース"
- "日本語"
status: publish
type: post
published: true
meta:
  _edit_last: '3'
author:
  login: yokoshima
  email: k.yokoshima@gmail.com
  display_name: yokoshima
  first_name: ''
  last_name: ''
---
<p>情報システムと言うのは情報をやりとりするためのシステムなので、その情報をどこかに保持しておくのは基本中の基本です。<br />
その方法のひとつ（と言うか主流）はデータベースだと思います。</p>
<p>データベースにもいろいろありますが、現在ポピュラーなのはやはりリレーショナルデータベースと言うやつで、<br />
ざっくりと言えば、表形式にデータが保存されているものです。</p>
<p>これの名前などを定義する場合には、自分がかかわってきた場合には日本語（と言うか、１バイト文字以外）の名前を付けたりするのは<br />
ご法度な雰囲気があったのですが、最近は日本語の表名列名なんかを使う場合も増えているような気がします。</p>
<p>確かに今は、文字コードはUnicodeを使うのが主流で、別に問題ないのかもしれないのですがどうも気持ち悪い。<br />
プロジェクトの指針で「テーブル名などは基本日本語で！」とか出たとしても明快に反論出来ないと思いますが、<br />
日本語名を使うのがいやな理由を考えてみました・</p>
<p>・記号を使われたときにバグりやすいんじゃないか？<br />
つまり、全角の「％」や「？」や「（）」とか、SQLのシンタックスに影響してくる文字を使われたらどうするんだ、と言う話ですが、<br />
これは全角記号は使わない、と言うことにすれば良いし、使っても全角文字であればSQL文に影響はないですね。</p>
<p>・O/Rマッピングがしにくいんじゃないか？<br />
O/Rマッパーは要するにプログラムから出来るだけデータベースのインターフェイスを隠蔽してみる試みですが、<br />
データベースのレコードひとつにあたるEntityオブジェクトはテーブルのメタ情報から自動生成できることが多いです。<br />
そのときに日本語名が使われてたら・・・。<br />
しかし、（自分が知っているO/Rマッパーの）Javaや.Netはメソッド名やメンバ名に日本語が使える場合が多いですね。<br />
なのでそんなに問題ないのかも。</p>
<p>・Web系システムの場合は文字コードが違ったら完全オジャン<br />
javaや.Netなんかは確か内部的にはUnicodeでリテラルを扱うので問題ないかもしれないのですが、<br />
phpやperlなんかはまだ完全にそうではないです。Unix系でマルチバイト文字なら普通EUC-JPですよね。<br />
しかしこれはDBどころかシステム全体の問題になるのであって、そこはまずクリアしておく課題なはずなので問題ないかも。</p>
<p>・EclipseなどのIDEで、コード補完機能の使い勝手が落ちる<br />
まあ、SQL文をリテラルで使うならぜんぜん関係ないですけど、前述のO/Rマッパーを使った場合、日本語フィールドだとインクリメンタルサーチが完全に機能不全になりますね。<br />
たとえば、DeptテーブルのDeptCodeを補完したい場合は、Dept、と書いて接続子（ピリオドとか-&gt;とか）まで書いて、「D」キーを押せば「DeptCode」が補完候補に出たりしますが、<br />
Deptテーブルの「部門コード」を保管する場合は、日本語で「部」まで選択されないと補完候補までたどり着けない。<br />
しかし大体、Entityにアクセスするコードを書くのはそう多いわけではないので問題ないか・・・。</p>
<p>・パフォーマンスが落ちる<br />
いや落ちない。と言うかここはパフォーマングチューニングするにはあまりにも効果薄そう。</p>
<p>ん～、やはり使うのはいやなのは趣味の問題なのか。<br />
明快な反論が出来ないですね。</p>
